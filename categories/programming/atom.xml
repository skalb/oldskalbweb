<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Programming | skalb.com]]></title>
  <link href="http://www.skalb.com/categories/programming/atom.xml" rel="self"/>
  <link href="http://www.skalb.com/"/>
  <updated>2013-07-04T16:57:20-07:00</updated>
  <id>http://www.skalb.com/</id>
  <author>
    <name><![CDATA[Sameer Kalburgi]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Testing with Meteor, CoffeeScript and Mocha]]></title>
    <link href="http://www.skalb.com/2012/08/19/testing-with-meteor-coffeescript-and-mocha/"/>
    <updated>2012-08-19T00:00:00-07:00</updated>
    <id>http://www.skalb.com/2012/08/19/testing-with-meteor-coffeescript-and-mocha</id>
    <content type="html"><![CDATA[<p>Despite no mention in the official <a href="http://docs.meteor.com/">Meteor docs</a>, adding unit tests is fairly easy. For some reason, they don't mention this but any files in the tests/ folder will be ignored by the Meteor server.</p>

<!--more-->


<p>What you'll need:</p>

<ul>
    <li><a href="https://github.com/meteor/meteor">Meteor</a></li>
    <li><a href="https://github.com/isaacs/npm">Npm</a></li>
    <li><a href="https://github.com/visionmedia/mocha">Mocha</a></li>
</ul>


<div>Optional:</div>


<div>
<ul>
    <li><a href="http://growl.info/">Growl</a> (for notifications from mocha watch)</li>
</ul>
</div>


<div>Getting everything running:</div>


<p><code>bash
meteor create mocha
cd mocha
meteor add coffeescript
</code></p>

<p>Setting up Mocha to watch our coffee files and send Growl notifications:</p>

<p>``` bash</p>

<p>mocha tests/*.coffee -w -G --compilers coffee:coffee-script</p>

<p>```</p>

<p>Now to create a sample test:</p>

<p>``` coffeescript test.coffee
describe "Array", ->
  describe "#indexOf()", -></p>

<pre><code>it "should return -1 when the value is not present", -&gt;
  assert.equal -1, [1, 2, 3].indexOf(1)
  assert.equal -1, [1, 2, 3].indexOf(0)
</code></pre>

<p>```</p>

<p>Mocha should notice the file change and run the tests showing you the passing test.</p>

<p><a href="https://github.com/skalb/meteor-examples/tree/master/mocha">Source code here.</a></p>

<p>Some notes:</p>

<ul>
    <li>The growl notification didn't work for me, but I assume that's because I'm using an old version.</li>
    <li>When using Mocha watch, sometimes a failing test result would be outputted many times</li>
    <li><a href="https://github.com/pivotal/jasmine">Jasmine</a>Â should also work fine</li>
</ul>

]]></content>
  </entry>
  
</feed>
